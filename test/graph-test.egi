(load "lib/graph/graph.egi")

(define $g1 {<Node 1 {2 3 4 5} {2 3 4 5}>
             <Node 2 {1 3} {1 3}>
             <Node 3 {1 2 4} {1 2 4}>
             <Node 4 {1 3 5} {1 3 5}>
             <Node 5 {1 4} {1 4}>})

(define $g2 {<Node 1 {2} {2}>
             <Node 2 {1 3} {1 3}>
             <Node 3 {2 4} {2 4}>
             <Node 4 {3 5} {3 5}>
             <Node 5 {4} {4}>})

(test (assert-equal "hamilton-path"
        (match-all g1 (graph integer)
          [(hamilton-path $p) p])
        {[|1 2 3 4 5|] [|2 1 3 4 5|] [|2 3 1 4 5|] [|5 1 2 3 4|] [|2 3 1 5 4|] [|3 2 1 4 5|] [|2 1 5 4 3|] [|2 3 4 1 5|] [|2 3 4 5 1|] [|3 2 1 5 4|] [|4 5 1 2 3|] [|5 4 1 2 3|] [|3 4 5 1 2|] [|4 3 2 1 5|] [|4 5 1 3 2|] [|5 1 4 3 2|] [|5 4 1 3 2|] [|5 4 3 1 2|] [|1 5 4 3 2|] [|5 4 3 2 1|]}
        ))
        
(test (assert-equal "hamilton-cycle"
        (match-all g1 (graph integer)
          [(hamilton-cycle $p) p])
        {[|1 2 3 4 5|] [|5 1 2 3 4|] [|2 1 5 4 3|] [|2 3 4 5 1|] [|3 2 1 5 4|] [|4 5 1 2 3|] [|3 4 5 1 2|] [|4 3 2 1 5|] [|1 5 4 3 2|] [|5 4 3 2 1|]}
        ))
        

